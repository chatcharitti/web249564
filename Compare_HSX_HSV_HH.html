<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIA Ultimate Comparison (13 Categories)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Sarabun', sans-serif; }
        .sticky-col { position: sticky; left: 0; z-index: 20; background-color: white; }
        .sub-text { font-size: 0.75rem; color: #64748b; margin-top: 2px; }
        tr:hover td { background-color: #fffbeb; transition: 0.2s; }
    </style>
</head>
<body class="bg-gray-100 min-h-screen text-slate-800">

    <div class="max-w-[1600px] mx-auto bg-white shadow-xl border border-gray-200 md:my-6 md:rounded-xl overflow-hidden">
        
        <!-- Header -->
        <div class="bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 p-5 text-white shadow-lg relative">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <div class="flex items-center gap-3">
                    <div class="bg-red-600 p-2 rounded-lg">
                        <i data-lucide="shield-check" class="text-white w-6 h-6"></i>
                    </div>
                    <div>
                        <h1 class="text-xl md:text-2xl font-bold">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå (13 ‡∏´‡∏°‡∏ß‡∏î‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô)</h1>
                        <p class="text-slate-400 text-xs mt-1">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á: ‡∏ï‡∏≤‡∏£‡∏≤‡∏á HSX HSV HH ‡πÅ‡∏•‡∏∞ New Health Standard</p>
                    </div>
                </div>
                <div class="text-right hidden md:block">
                     <span class="bg-white/10 px-3 py-1 rounded text-xs border border-white/20">‡∏â‡∏ö‡∏±‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå (Full Detail)</span>
                </div>
            </div>
        </div>

        <!-- Mobile Controls -->
        <div class="md:hidden p-4 bg-white border-b-4 border-slate-100 sticky top-0 z-30 shadow-md">
            <div class="grid grid-cols-2 gap-3">
                <div class="bg-emerald-50 p-2 rounded border border-emerald-100">
                    <div class="text-[10px] text-emerald-800 font-bold mb-1">PLAN A (‡∏ã‡πâ‡∏≤‡∏¢)</div>
                    <select id="mobile-type-col1" class="w-full text-xs p-1 mb-1 rounded border-gray-300" onchange="updatePlan('col1', this.value, 0)"></select>
                    <select id="mobile-idx-col1" class="w-full text-xs p-1 rounded border-gray-300" onchange="updatePlanIdx('col1', this.value)"></select>
                </div>
                <div class="bg-blue-50 p-2 rounded border border-blue-100">
                    <div class="text-[10px] text-blue-800 font-bold mb-1">PLAN B (‡∏Å‡∏•‡∏≤‡∏á)</div>
                    <select id="mobile-type-col2" class="w-full text-xs p-1 mb-1 rounded border-gray-300" onchange="updatePlan('col2', this.value, 0)"></select>
                    <select id="mobile-idx-col2" class="w-full text-xs p-1 rounded border-gray-300" onchange="updatePlanIdx('col2', this.value)"></select>
                </div>
            </div>
        </div>

        <!-- Table -->
        <div class="overflow-x-auto">
            <table class="w-full min-w-[1100px] border-collapse text-sm">
                <thead>
                    <tr>
                        <th class="p-4 w-[30%] text-left sticky-col border-r border-gray-200 shadow-sm align-bottom bg-gray-50">
                            <span class="hidden md:block text-gray-400 text-xs font-normal mb-1">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ú‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö</span>
                            <div class="text-lg font-bold text-gray-800">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á</div>
                        </th>
                        <th id="header-col1" class="p-4 w-[23%] align-top border-b-4 transition-all"></th>
                        <th id="header-col2" class="p-4 w-[23%] align-top border-b-4 transition-all"></th>
                        <th id="header-col3" class="p-4 w-[23%] align-top border-b-4 transition-all hidden md:table-cell"></th>
                    </tr>
                </thead>
                <tbody id="table-body" class="divide-y divide-gray-100"></tbody>
            </table>
        </div>
        
        <!-- Legend/Footer -->
        <div class="bg-slate-50 p-6 border-t border-gray-200">
             <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-xs text-gray-600">
                <div>
                    <strong class="text-gray-800 block mb-2">üìå ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô (Health Saver):</strong>
                    <ul class="list-disc ml-4 space-y-1">
                        <li><strong>‡∏´‡∏°‡∏ß‡∏î 1, 2, 8-11, 13:</strong> ‡∏°‡∏µ‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏¢‡∏Å‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏à‡πà‡∏≤‡∏¢‡∏ï‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏£‡∏ß‡∏° (‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ï‡πà‡πÅ‡∏ú‡∏ô)</li>
                        <li><strong>‡∏´‡∏°‡∏ß‡∏î 3-6 ‡πÅ‡∏•‡∏∞ 12:</strong> ‡πÉ‡∏ä‡πâ‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô (Grouped Limit) ‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡πÅ‡∏ú‡∏ô</li>
                    </ul>
                </div>
                <div>
                    <strong class="text-gray-800 block mb-2">üí° ‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á:</strong>
                    <div class="flex gap-4 mt-1">
                        <span class="flex items-center gap-1"><span class="w-2 h-2 rounded-full bg-pink-600"></span> ‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢‡∏ï‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á</span>
                        <span class="flex items-center gap-1"><span class="w-2 h-2 rounded-full bg-sky-600"></span> ‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢‡πÉ‡∏ô‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô</span>
                        <span class="flex items-center gap-1"><span class="w-2 h-2 rounded-full bg-emerald-600"></span> ‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏ï‡πà‡∏≠‡∏Ñ‡∏£‡∏±‡πâ‡∏á</span>
                    </div>
                </div>
             </div>
        </div>
    </div>

    <script>
        // --- DATA ENGINE ---
        const plansData = {
            HSX: {
                name: "AIA H&S Extra",
                subtitle: "‡πÅ‡∏¢‡∏Å‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏´‡∏°‡∏ß‡∏î + OPD",
                theme: "emerald",
                headerColor: "bg-emerald-50 border-emerald-400",
                limitType: "‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡πà‡∏≠‡∏Ñ‡∏£‡∏±‡πâ‡∏á",
                options: [
                    { id: "hsx_1500", name: "‡πÅ‡∏ú‡∏ô 1500", cat1:"1,500", cat2:"20,000", cat3:"60,000", cat4:"800", cat5:"60,000", cat6:"4,000", cat7:"3,000", cat8:"1,500", cat9:"10,000", cat10:"10,000", cat11:"2,000", cat12:"4,000", cat13:"3,000/‡∏õ‡∏µ", ci:"-", ncb:"1,500", death:"10,000", annual:"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î" },
                    { id: "hsx_2000", name: "‡πÅ‡∏ú‡∏ô 2000", cat1:"2,000", cat2:"20,000", cat3:"80,000", cat4:"800", cat5:"80,000", cat6:"5,000", cat7:"4,000", cat8:"2,000", cat9:"15,000", cat10:"15,000", cat11:"2,000", cat12:"5,000", cat13:"4,000/‡∏õ‡∏µ", ci:"-", ncb:"2,000", death:"10,000", annual:"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î" },
                    { id: "hsx_2500", name: "‡πÅ‡∏ú‡∏ô 2500", cat1:"2,500", cat2:"25,000", cat3:"100,000", cat4:"1,000", cat5:"100,000", cat6:"7,500", cat7:"5,000", cat8:"2,500", cat9:"20,000", cat10:"20,000", cat11:"3,000", cat12:"6,000", cat13:"5,000/‡∏õ‡∏µ", ci:"-", ncb:"2,500", death:"10,000", annual:"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î" },
                    { id: "hsx_3500", name: "‡πÅ‡∏ú‡∏ô 3500", cat1:"3,500", cat2:"35,000", cat3:"120,000", cat4:"1,200", cat5:"120,000", cat6:"10,000", cat7:"6,000", cat8:"3,500", cat9:"25,000", cat10:"25,000", cat11:"4,000", cat12:"7,000", cat13:"7,000/‡∏õ‡∏µ", ci:"-", ncb:"3,500", death:"10,000", annual:"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î" },
                    { id: "hsx_4500", name: "‡πÅ‡∏ú‡∏ô 4500", cat1:"4,500", cat2:"40,000", cat3:"130,000", cat4:"1,500", cat5:"130,000", cat6:"12,500", cat7:"6,500", cat8:"4,000", cat9:"30,000", cat10:"30,000", cat11:"5,000", cat12:"8,000", cat13:"8,000/‡∏õ‡∏µ", ci:"-", ncb:"3,500", death:"10,000", annual:"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î" },
                    { id: "hsx_5500", name: "‡πÅ‡∏ú‡∏ô 5500", cat1:"5,500", cat2:"45,000", cat3:"140,000", cat4:"2,000", cat5:"140,000", cat6:"15,000", cat7:"7,000", cat8:"4,500", cat9:"30,000", cat10:"30,000", cat11:"5,000", cat12:"9,000", cat13:"9,000/‡∏õ‡∏µ", ci:"-", ncb:"4,000", death:"10,000", annual:"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î" },
                    { id: "hsx_6500", name: "‡πÅ‡∏ú‡∏ô 6500", cat1:"6,500", cat2:"50,000", cat3:"150,000", cat4:"2,500", cat5:"150,000", cat6:"17,500", cat7:"7,500", cat8:"5,000", cat9:"30,000", cat10:"30,000", cat11:"5,000", cat12:"10,000", cat13:"10,000/‡∏õ‡∏µ", ci:"-", ncb:"4,000", death:"10,000", annual:"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î" }
                ]
            },
            HSV: {
                name: "AIA Health Saver",
                subtitle: "‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô + ‡πÄ‡∏ö‡∏¥‡πâ‡∏• CI",
                theme: "blue",
                headerColor: "bg-sky-50 border-sky-400",
                limitType: "‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏õ‡∏µ",
                options: [
                    { id: "hsv_200k", name: "‡πÅ‡∏ú‡∏ô 2 ‡πÅ‡∏™‡∏ô", cat1:"1,500", cat2:"2‡πÅ‡∏™‡∏ô", cat3:"‡∏£‡πà‡∏ß‡∏°", cat4:"800", cat5:"‡∏£‡πà‡∏ß‡∏°", cat6:"‡∏£‡πà‡∏ß‡∏°", cat7:"4,000", cat8:"1,500", cat9:"10,000", cat10:"10,000", cat11:"3,000", cat12:"‡∏£‡πà‡∏ß‡∏°", cat13:"-", ci:"2 ‡πÄ‡∏ó‡πà‡∏≤ (4 ‡πÅ‡∏™‡∏ô)", ncb:"-", death:"10,000", annual:"200,000" },
                    { id: "hsv_300k", name: "‡πÅ‡∏ú‡∏ô 3 ‡πÅ‡∏™‡∏ô", cat1:"2,000", cat2:"3‡πÅ‡∏™‡∏ô", cat3:"‡∏£‡πà‡∏ß‡∏°", cat4:"1,000", cat5:"‡∏£‡πà‡∏ß‡∏°", cat6:"‡∏£‡πà‡∏ß‡∏°", cat7:"5,000", cat8:"2,000", cat9:"15,000", cat10:"15,000", cat11:"3,000", cat12:"‡∏£‡πà‡∏ß‡∏°", cat13:"-", ci:"2 ‡πÄ‡∏ó‡πà‡∏≤ (6 ‡πÅ‡∏™‡∏ô)", ncb:"-", death:"10,000", annual:"300,000" },
                    { id: "hsv_400k", name: "‡πÅ‡∏ú‡∏ô 4 ‡πÅ‡∏™‡∏ô", cat1:"3,000", cat2:"4‡πÅ‡∏™‡∏ô", cat3:"‡∏£‡πà‡∏ß‡∏°", cat4:"1,200", cat5:"‡∏£‡πà‡∏ß‡∏°", cat6:"‡∏£‡πà‡∏ß‡∏°", cat7:"6,000", cat8:"2,500", cat9:"20,000", cat10:"20,000", cat11:"4,000", cat12:"‡∏£‡πà‡∏ß‡∏°", cat13:"1,000/‡∏Ñ‡∏£‡∏±‡πâ‡∏á", ci:"2 ‡πÄ‡∏ó‡πà‡∏≤ (8 ‡πÅ‡∏™‡∏ô)", ncb:"-", death:"10,000", annual:"400,000" },
                    { id: "hsv_500k", name: "‡πÅ‡∏ú‡∏ô 5 ‡πÅ‡∏™‡∏ô", cat1:"4,000", cat2:"5‡πÅ‡∏™‡∏ô", cat3:"‡∏£‡πà‡∏ß‡∏°", cat4:"1,500", cat5:"‡∏£‡πà‡∏ß‡∏°", cat6:"‡∏£‡πà‡∏ß‡∏°", cat7:"7,000", cat8:"3,000", cat9:"25,000", cat10:"25,000", cat11:"5,000", cat12:"‡∏£‡πà‡∏ß‡∏°", cat13:"1,500/‡∏Ñ‡∏£‡∏±‡πâ‡∏á", ci:"2 ‡πÄ‡∏ó‡πà‡∏≤ (1 ‡∏•‡πâ‡∏≤‡∏ô)", ncb:"-", death:"10,000", annual:"500,000" }
                ]
            },
            HH: {
                name: "AIA Health Happy",
                subtitle: "‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ",
                theme: "pink",
                headerColor: "bg-pink-50 border-pink-400",
                limitType: "‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏õ‡∏µ",
                options: [
                    { id: "hh_1m", name: "‡πÅ‡∏ú‡∏ô 1 ‡∏•‡πâ‡∏≤‡∏ô", cat1:"1,500", cat2:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat3:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat4:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat5:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat6:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat7:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat8:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat9:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat10:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat11:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat12:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat13:"-", ci:"2 ‡πÄ‡∏ó‡πà‡∏≤ (2 ‡∏•‡πâ‡∏≤‡∏ô)", ncb:"-", death:"10,000", annual:"1 ‡∏•‡πâ‡∏≤‡∏ô" },
                    { id: "hh_5m", name: "‡πÅ‡∏ú‡∏ô 5 ‡∏•‡πâ‡∏≤‡∏ô", cat1:"3,000", cat2:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat3:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat4:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat5:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat6:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat7:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat8:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat9:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat10:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat11:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat12:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat13:"-", ci:"2 ‡πÄ‡∏ó‡πà‡∏≤ (10 ‡∏•‡πâ‡∏≤‡∏ô)", ncb:"-", death:"10,000", annual:"5 ‡∏•‡πâ‡∏≤‡∏ô" },
                    { id: "hh_15m", name: "‡πÅ‡∏ú‡∏ô 15 ‡∏•‡πâ‡∏≤‡∏ô", cat1:"6,000", cat2:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat3:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat4:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat5:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat6:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat7:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat8:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat9:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat10:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat11:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat12:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat13:"-", ci:"2 ‡πÄ‡∏ó‡πà‡∏≤ (30 ‡∏•‡πâ‡∏≤‡∏ô)", ncb:"-", death:"10,000", annual:"15 ‡∏•‡πâ‡∏≤‡∏ô" },
                    { id: "hh_25m", name: "‡πÅ‡∏ú‡∏ô 25 ‡∏•‡πâ‡∏≤‡∏ô", cat1:"9,000", cat2:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat3:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat4:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat5:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat6:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat7:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat8:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat9:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat10:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat11:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat12:"‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢", cat13:"2,000/‡∏Ñ‡∏£‡∏±‡πâ‡∏á", ci:"2 ‡πÄ‡∏ó‡πà‡∏≤ (50 ‡∏•‡πâ‡∏≤‡∏ô)", ncb:"-", death:"10,000", annual:"25 ‡∏•‡πâ‡∏≤‡∏ô" }
                ]
            }
        };

        let state = {
            col1: { type: 'HSX', index: 2 },
            col2: { type: 'HSV', index: 1 },
            col3: { type: 'HH', index: 1 }
        };

        // --- RENDER FUNCTIONS ---
        
        function updatePlan(col, type, index) {
            state[col] = { type, index: parseInt(index) };
            renderAll();
        }
        function updatePlanIdx(col, index) {
            state[col].index = parseInt(index);
            renderAll();
        }

        function getPlanData(colKey) {
            const { type, index } = state[colKey];
            return { ...plansData[type], ...plansData[type].options[index] };
        }

        function renderCell(val, isRoom = false) {
            if (val === "‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢") return `<span class="font-bold text-pink-600">‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢‡∏ï‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á</span>`;
            if (val === "‡∏£‡πà‡∏ß‡∏°" || val.includes("‡πÅ‡∏™‡∏ô") || val.includes("‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢ (")) return `<span class="font-medium text-sky-600">${val === "‡∏£‡πà‡∏ß‡∏°" ? "‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢‡πÉ‡∏ô‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô" : val}</span>`;
            if (val === "-") return `<span class="text-gray-300">-</span>`;
            return `<span class="text-gray-800 ${isRoom ? 'font-bold text-lg' : ''}">${val}</span>`;
        }

        function renderDropdowns(colKey, isMobile) {
            const currentType = state[colKey].type;
            const currentIndex = state[colKey].index;
            
            // Generate Options
            const typeOpts = Object.keys(plansData).map(key => `<option value="${key}" ${key === currentType ? 'selected' : ''}>${plansData[key].name}</option>`).join('');
            const planOpts = plansData[currentType].options.map((opt, i) => `<option value="${i}" ${i === currentIndex ? 'selected' : ''}>${opt.name}</option>`).join('');

            if (isMobile) {
                document.getElementById(`mobile-type-${colKey}`).innerHTML = typeOpts;
                document.getElementById(`mobile-idx-${colKey}`).innerHTML = planOpts;
            } else {
                return `
                    <div class="mt-2 space-y-1">
                        <select class="w-full text-xs font-bold p-1 rounded border-gray-200 bg-white/60" onchange="updatePlan('${colKey}', this.value, 0)">${typeOpts}</select>
                        <select class="w-full text-xs p-1 rounded border-gray-200 bg-white shadow-sm" onchange="updatePlanIdx('${colKey}', this.value)">${planOpts}</select>
                    </div>
                `;
            }
        }

        function renderHeader(colKey) {
            const data = getPlanData(colKey);
            const el = document.getElementById(`header-${colKey}`);
            if(!el) return;

            el.className = `p-4 w-[23%] align-top border-b-4 ${data.headerColor} ${colKey === 'col3' ? 'hidden md:table-cell' : ''}`;
            el.innerHTML = `
                <div class="flex flex-col gap-1">
                    <div class="text-lg font-bold text-gray-800">${data.name}</div>
                    <div class="text-xs text-gray-500">${data.subtitle}</div>
                    <div class="mt-1"><span class="text-[10px] font-bold bg-white/50 px-2 py-0.5 rounded border border-gray-300">‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î: ${data.annual}</span></div>
                    ${renderDropdowns(colKey, false)}
                </div>
            `;
        }

        function createRow(label, key, icon, sub = "") {
            const d1 = getPlanData('col1');
            const d2 = getPlanData('col2');
            const d3 = getPlanData('col3');
            
            return `
                <tr class="group">
                    <td class="p-3 pl-4 border-r border-gray-100 bg-white sticky-col">
                        <div class="flex items-center gap-2 font-medium text-gray-700">
                            ${icon ? `<i data-lucide="${icon}" class="w-4 h-4 text-slate-400"></i>` : ''} ${label}
                        </div>
                        ${sub ? `<div class="text-[10px] text-gray-400 ml-6">${sub}</div>` : ''}
                    </td>
                    <td class="p-3 text-center border-l border-gray-100">${renderCell(d1[key], key.includes('cat1'))}</td>
                    <td class="p-3 text-center border-l border-gray-100">${renderCell(d2[key], key.includes('cat1'))}</td>
                    <td class="p-3 text-center border-l border-gray-100 hidden md:table-cell">${renderCell(d3[key], key.includes('cat1'))}</td>
                </tr>
            `;
        }
        
        function createSection(title) {
            return `<tr class="bg-gray-100"><td colspan="4" class="py-2 px-4 text-xs font-bold text-gray-600 uppercase tracking-wide">${title}</td></tr>`;
        }

        function renderBody() {
            let html = "";
            
            // 1. IPD (‡∏´‡∏°‡∏ß‡∏î 1-5)
            html += createSection("1. ‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡πÉ‡∏ô (IPD)");
            html += createRow("‡∏´‡∏°‡∏ß‡∏î 1: ‡∏Ñ‡πà‡∏≤‡∏´‡πâ‡∏≠‡∏á (‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô)", "cat1", "bed", "‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 125 ‡∏´‡∏£‡∏∑‡∏≠ 365 ‡∏ß‡∏±‡∏ô");
            html += createRow("‡∏Ñ‡πà‡∏≤‡∏´‡πâ‡∏≠‡∏á ICU (‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô)", "cat1", "activity", "‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏ï‡∏≤‡∏°‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô (HSX/HSV) ‡∏´‡∏£‡∏∑‡∏≠ ‡πÄ‡∏´‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢ (HH)");
            html += createRow("‡∏´‡∏°‡∏ß‡∏î 2: ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå", "cat2", "stethoscope", "‡∏Ñ‡πà‡∏≤‡∏¢‡∏≤, ‡πÄ‡∏•‡∏∑‡∏≠‡∏î, ‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•");
            html += createRow("‡∏´‡∏°‡∏ß‡∏î 3: ‡∏Ñ‡πà‡∏≤‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏ú‡πà‡∏≤‡∏ï‡∏±‡∏î", "cat3", "scissors");
            html += createRow("‡∏´‡∏°‡∏ß‡∏î 4: ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡πÑ‡∏Ç‡πâ (‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô)", "cat4", "user-check");
            html += createRow("‡∏´‡∏°‡∏ß‡∏î 5: ‡∏ú‡πà‡∏≤‡∏ï‡∏±‡∏î‡πÉ‡∏´‡∏ç‡πà‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ô‡∏≠‡∏ô", "cat5", "sun", "Day Surgery");

            // 2. ‡∏´‡∏°‡∏ß‡∏î 6-13
            html += createSection("2. ‡∏Ñ‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏≠‡∏∑‡πà‡∏ô‡πÜ (‡∏´‡∏°‡∏ß‡∏î 6-13)");
            html += createRow("‡∏´‡∏°‡∏ß‡∏î 6: ‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡∏¥‡∏ô‡∏¥‡∏à‡∏â‡∏±‡∏¢", "cat6", "microscope", "‡∏Å‡πà‡∏≠‡∏ô/‡∏´‡∏•‡∏±‡∏á ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ó");
            html += createRow("‡∏´‡∏°‡∏ß‡∏î 7: ‡∏≠‡∏∏‡∏ö‡∏±‡∏ï‡∏¥‡πÄ‡∏´‡∏ï‡∏∏‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô", "cat7", "zap", "‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 24 ‡∏ä‡∏°.");
            html += createRow("‡∏´‡∏°‡∏ß‡∏î 8: ‡πÄ‡∏ß‡∏ä‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏ü‡∏∑‡πâ‡∏ô‡∏ü‡∏π", "cat8", "person-standing");
            html += createRow("‡∏´‡∏°‡∏ß‡∏î 9: ‡∏•‡πâ‡∏≤‡∏á‡πÑ‡∏ï", "cat9", "droplet");
            html += createRow("‡∏´‡∏°‡∏ß‡∏î 10: ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á", "cat10", "biohazard", "‡πÄ‡∏Ñ‡∏°‡∏µ‡∏ö‡∏≥‡∏ö‡∏±‡∏î / ‡∏£‡∏±‡∏á‡∏™‡∏µ‡∏£‡∏±‡∏Å‡∏©‡∏≤");
            html += createRow("‡∏´‡∏°‡∏ß‡∏î 11: ‡∏£‡∏ñ‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•", "cat11", "ambulance");
            html += createRow("‡∏´‡∏°‡∏ß‡∏î 12: ‡∏ú‡πà‡∏≤‡∏ï‡∏±‡∏î‡πÄ‡∏•‡πá‡∏Å", "cat12", "pen-tool", "Minor Surgery");
            html += createRow("‡∏´‡∏°‡∏ß‡∏î 13: ‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ô‡∏≠‡∏Å (OPD)", "cat13", "users", "‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ó");

            // 3. Special Benefits
            html += createSection("3. ‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏©");
            html += `
                <tr class="group hover:bg-red-50">
                    <td class="p-3 pl-4 border-r border-gray-100 bg-white sticky-col">
                        <div class="flex items-center gap-2 font-medium text-gray-700"><i data-lucide="shield-alert" class="w-4 h-4 text-red-500"></i> ‡πÇ‡∏£‡∏Ñ‡∏£‡πâ‡∏≤‡∏¢‡πÅ‡∏£‡∏á (CI Double)</div>
                        <div class="text-[10px] text-gray-400 ml-6">‡πÄ‡∏ö‡∏¥‡πâ‡∏•‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô 2 ‡πÄ‡∏ó‡πà‡∏≤ (4 ‡∏õ‡∏µ‡∏Å‡∏£‡∏°‡∏ò‡∏£‡∏£‡∏°‡πå)</div>
                    </td>
                    ${['col1','col2','col3'].map(c => {
                        const d = getPlanData(c);
                        const hide = c === 'col3' ? 'hidden md:table-cell' : '';
                        return `<td class="p-3 text-center border-l border-gray-100 ${hide}">${d.ci === '-' ? '-' : `<span class="bg-red-100 text-red-700 px-2 py-0.5 rounded text-xs font-bold border border-red-200">${d.ci}</span>`}</td>`;
                    }).join('')}
                </tr>
            `;
            html += createRow("‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏∑‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏© (No Claim Bonus)", "ncb", "piggy-bank");
            html += `
                <tr class="bg-slate-800 text-white border-t-4 border-slate-600">
                    <td class="p-3 pl-4 border-r border-slate-700 bg-slate-800 sticky-col">
                        <div class="flex items-center gap-2 font-medium"><i data-lucide="heart" class="w-4 h-4 text-rose-400"></i> ‡∏Å‡∏£‡∏ì‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï</div>
                        <div class="text-[10px] text-slate-400 ml-6">‡∏ó‡∏∏‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏´‡∏•‡∏±‡∏Å</div>
                    </td>
                    ${['col1','col2','col3'].map(c => {
                         const d = getPlanData(c);
                         const hide = c === 'col3' ? 'hidden md:table-cell' : '';
                         return `<td class="p-3 text-center border-l border-slate-700 font-bold ${hide}">${d.death}</td>`;
                    }).join('')}
                </tr>
            `;

            document.getElementById('table-body').innerHTML = html;
        }

        function renderAll() {
            renderHeader('col1');
            renderHeader('col2');
            renderHeader('col3');
            renderDropdowns('col1', true);
            renderDropdowns('col2', true);
            renderBody();
            lucide.createIcons();
        }

        document.addEventListener('DOMContentLoaded', renderAll);
    </script>
</body>
</html>

